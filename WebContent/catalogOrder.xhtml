<!DOCTYPE html>

<html xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"	xmlns:ui="http://java.sun.com/jsf/facelets">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"></link>

<script	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>


<h:head>
	<title>Catalog</title>
</h:head>
<h:body>
	<f:view>
		<h2>Products:</h2>
		<ul>
			<ui:repeat var="product" value="${orderController.productList}">
				<li><h:form>
						<div>Id: ${product.id}</div>
						<div>Name: ${product.name}</div>
						<div>Code: ${product.code}</div>
						<div>Price: ${product.price}</div>
						<div>Description: ${product.description}</div>
						<div>
							Quantity:
							<h:inputText value="#{orderController.quantity}" required="true"
								requiredMessage="This field is mandatory" id="quantity" />
							<h:message for="quantity" />

							<h:commandLink action="#{orderController.addProduct(product.id)}" value="Add to Order"/>
						</div>
					</h:form></li>
			</ui:repeat>
		</ul>
		
		<c:forEach var="product" items="#{orderController.productList}">
					<h:form><tr>
						<td>Id: ${product.id}</td>
						<td>Name: ${product.name}</td>
						<td>Code: ${product.code}</td>
						<td>Price: ${product.price}</td>
						<td>Description: ${product.description}</td>
						<td><h:commandButton action="#{orderController.addProduct}" value="Add to Order">
								<f:param name="idProduct" value="#{product.id }" />
							</h:commandButton></td>
					</tr></h:form>
				</c:forEach>
		<div>
			<h:outputLink value="customerPage.xhtml">Torna alla Home</h:outputLink>
		</div>
	</f:view>
</h:body>
</html>