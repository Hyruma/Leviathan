<!DOCTYPE html>

<html xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"></link>

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>


<h:head>
	<title>Catalog</title>
</h:head>
<h:body>
	<f:view>
		<h2>Products:</h2>


		<table class="table table-condensed">
			<tr>
				<th>Id</th>
				<th>Name</th>
				<th>Code</th>
				<th>Price</th>
				<th>Description</th>
				<th>Quantity</th>
			</tr>
			<h:form>
				<ui:repeat var="product" value="${orderController.allProduct()}">
					<tr>
						<td>${product.id}</td>
						<td>${product.name}</td>
						<td>${product.code}</td>
						<td>${product.price}</td>
						<td>${product.description}</td>
						<td><h:inputText value="#{orderController.quantity}"
								required="true" requiredMessage="This field is mandatory"
								id="quantity" /> <h:message for="quantity" /></td>
						<td><h:commandButton action="#{orderController.addProduct}"
								value="Add to Order" class="btn btn-success">
								<f:param name="idProduct" value="#{product.id}" />
							</h:commandButton></td>
					</tr>
				</ui:repeat>
				
				
				<h:commandButton value="CompleteOrder"
					action="#{orderController.completeOrder}" class="btn btn-success">
					<f:param name="idOrder" value="#{orderController.order.id}" />
				</h:commandButton>
			</h:form>
		</table>




		<div>
			<h:outputLink value="customerPage.xhtml">Torna alla Home</h:outputLink>
		</div>

	</f:view>
</h:body>
</html>