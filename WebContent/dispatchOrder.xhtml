<!DOCTYPE html>
<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"></link>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<h:head>
	<title>Dispatch Orders</title>
</h:head>


<h:body> 
<f:view>
	<div class="container">		
		<h2>Orders to dispatch:</h2>
		
		<table class="table table-condensed">
			<tr>
				<th>Creation Time</th>
				<th>Processing Time</th>
				<th></th>
			</tr>
			<h:form>
			<ui:repeat var="processedOrder" value="${orderController.getAllProcessedOrders()}">
				<tr>
					<td>${processedOrder.creationTime}</td>
					<td>${processedOrder.processingTime}</td>
					<td>
					<h:commandButton action="#{orderController.dispatchOrder}" value="Dispatch order" class = "btn btn-warning">
						<f:param name="idOrderToDispatch" value="#{processedOrder.id}" />
					</h:commandButton>
					</td>
				</tr>
			</ui:repeat>
			</h:form>
		</table>

		<div>
			<h:outputLink value="navbar.xhtml"> Torna alla Home</h:outputLink>
		</div>
	</div>
</f:view>
</h:body>

</html>